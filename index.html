<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Launcher Ragnarok - Tela Cheia</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(270deg, #1a1a2e, #16213e, #0f3460, #533d7b);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #f0f0f0;
      user-select: none;
      text-align: center;
      padding: 20px;
    }

    @keyframes gradientShift {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    #container {
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 24px;
      padding: 40px 30px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      width: 90%;
      max-width: 500px;
    }

    #logo {
      width: 280px;
      max-width: 80vw;
      filter: drop-shadow(0 10px 15px rgba(0,0,0,0.7));
      transition: all 0.4s ease;
      cursor: default;
      margin-bottom: 30px;
    }
    #logo:hover {
      transform: scale(1.05);
      filter: drop-shadow(0 15px 20px rgba(0,0,0,0.9));
    }

    .btn-group {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .btn-main {
      background: linear-gradient(135deg, #6b7dfc, #5a67d8);
      border: none;
      border-radius: 14px;
      color: white;
      font-weight: 700;
      font-size: 18px;
      padding: 16px 30px;
      cursor: pointer;
      letter-spacing: 0.06em;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(90, 103, 216, 0.5);
      min-width: 180px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .btn-main:hover {
      background: linear-gradient(135deg, #545bcc, #3f3f8a);
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(90, 103, 216, 0.8);
    }
    .btn-main:active {
      transform: translateY(1px);
      box-shadow: 0 2px 10px rgba(90, 103, 216, 0.6);
    }

    .btn-main.secondary {
      background: linear-gradient(135deg, #4a5568, #2d3748);
    }
    .btn-main.secondary:hover {
      background: linear-gradient(135deg, #3c4658, #1a202c);
    }

    .btn-main .icon {
      width: 20px;
      height: 20px;
    }

    #barra {
      width: 100%;
      height: 30px;
      border-radius: 15px;
      background-color: rgba(255, 255, 255, 0.15);
      box-shadow: inset 0 3px 7px rgba(0,0,0,0.3);
      overflow: hidden;
      appearance: none;
      margin: 20px 0;
    }
    #barra::-webkit-progress-bar {
      background-color: rgba(255, 255, 255, 0.15);
      border-radius: 15px;
    }
    #barra::-webkit-progress-value {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(107, 125, 252, 0.7);
      transition: width 0.4s ease;
    }
    #barra::-moz-progress-bar {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(107, 125, 252, 0.7);
    }

    #status {
      font-size: 16px;
      font-weight: 600;
      color: #e3e3e3;
      text-shadow: 0 2px 6px rgba(0,0,0,0.7);
      width: 100%;
      height: 24px;
      line-height: 24px;
      letter-spacing: 0.05em;
      user-select: none;
      margin-bottom: 20px;
    }

    #links {
      display: flex;
      gap: 20px;
      align-items: center;
      justify-content: center;
      margin-top: 20px;
    }

    .icon-button {
      width: 44px;
      height: 44px;
      cursor: pointer;
      border-radius: 12px;
      padding: 8px;
      filter: drop-shadow(0 2px 5px rgba(0,0,0,0.3));
      background-color: rgba(255, 255, 255, 0.12);
      transition: all 0.3s ease;
      user-select: none;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    .icon-button:hover {
      transform: scale(1.15);
      filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
      background-color: rgba(255, 255, 255, 0.25);
    }
    .icon-button:active {
      transform: scale(1.05);
    }

    .icon-button img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .tooltip {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 5px 10px;
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      margin-bottom: 8px;
    }
    .icon-button:hover .tooltip {
      opacity: 1;
    }

    /* Ícones SVG embutidos para garantir que apareçam */
    .icon-discord {
      background-color: #5865F2;
    }
    .icon-website {
      background-color: #4a5568;
    }
    .icon-settings {
      background-color: #718096;
    }
    .icon-check {
      background-color: #48bb78;
    }

    .version {
      position: absolute;
      bottom: 15px;
      right: 15px;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.5);
    }
  </style>
</head>
<body>
  <div id="container">
    <img src="logo.png" alt="Logo do jogo" id="logo" />

    
    <div class="btn-group">
      <button id="btnAtualizar" class="btn-main">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C8.69 18 6 15.31 6 12C6 8.69 8.69 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z" fill="white"/>
        </svg>
        Atualizar e Jogar
      </button>
      
    
    <div class="btn-group">
      <button id="btnConfig" class="btn-main secondary">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19.14 12.94C19.73 12.55 19.73 11.72 19.14 11.33L17.44 10.18C17.29 10.09 17.2 9.93 17.2 9.76V8.24C17.2 7.59 16.66 7.06 16 7.06H14.8C14.63 7.06 14.47 6.97 14.38 6.82L13.23 5.12C12.84 4.53 12.01 4.53 11.62 5.12L10.47 6.82C10.38 6.97 10.22 7.06 10.05 7.06H8.8C8.14 7.06 7.6 7.59 7.6 8.24V9.76C7.6 9.93 7.51 10.09 7.36 10.18L5.66 11.33C5.07 11.72 5.07 12.55 5.66 12.94L7.36 14.09C7.51 14.18 7.6 14.34 7.6 14.51V15.93C7.6 16.59 8.14 17.12 8.8 17.12H10.05C10.22 17.12 10.38 17.21 10.47 17.36L11.62 19.06C12.01 19.65 12.84 19.65 13.23 19.06L14.38 17.36C14.47 17.21 14.63 17.12 14.8 17.12H16C16.66 17.12 17.2 16.59 17.2 15.93V14.51C17.2 14.34 17.29 14.18 17.44 14.09L19.14 12.94ZM12 15.5C10.62 15.5 9.5 14.38 9.5 13C9.5 11.62 10.62 10.5 12 10.5C13.38 10.5 14.5 11.62 14.5 13C14.5 14.38 13.38 15.5 12 15.5Z" fill="white"/>
        </svg>
        Configurações
      </button>
    </div>

    <progress id="barra" value="0" max="100"></progress>
    <div id="status">Aguardando atualização...</div>

    <div id="links">
      <div class="icon-button icon-discord" onclick="window.open('https://discord.gg/6qX5VEKakP', '_blank')">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M20.32 4.37a19.79 19.79 0 0 0-4.89-1.51.07.07 0 0 0-.08.03c-.21.38-.45.87-.62 1.25a18.27 18.27 0 0 0-5.49 0 13.13 13.13 0 0 0-.62-1.25.08.08 0 0 0-.09-.03A19.71 19.71 0 0 0 3.68 4.37a.17.17 0 0 0-.05.06A20.1 20.1 0 0 0 .05 17.42a.17.17 0 0 0 .06.06 19.55 19.55 0 0 0 5.72 2.75c.03.01.06 0 .07-.02a13.88 13.88 0 0 0 1.21-1.87.07.07 0 0 0-.04-.1 12.8 12.8 0 0 1-1.72-.83.08.08 0 0 1 0-.12 10.1 10.1 0 0 0 .37-.28.08.08 0 0 1 .08 0 14.1 14.1 0 0 0 12.06 0 .07.07 0 0 1 .08 0l.37.28a.08.08 0 0 1 0 .12 12.8 12.8 0 0 1-1.72.83.07.07 0 0 0-.04.1c.35.67.78 1.31 1.21 1.87.03.01.05.03.09.02a19.6 19.6 0 0 0 5.71-2.75.17.17 0 0 0 .06-.06 20.1 20.1 0 0 0-3.58-13 .16.16 0 0 0-.05-.06zM8.02 15.33c-1.18 0-2.16-1.08-2.16-2.42s.95-2.42 2.16-2.42 2.18 1.09 2.16 2.42c0 1.33-.96 2.42-2.16 2.42zm7.97 0c-1.17 0-2.15-1.08-2.15-2.42s.95-2.42 2.15-2.42 2.18 1.09 2.16 2.42c0 1.33-.96 2.42-2.16 2.42z"/>
        </svg>
        <span class="tooltip">Entrar no Discord</span>
      </div>
      
      <div class="icon-button icon-website" onclick="window.open('https://www.cltro.com', '_blank')">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
        </svg>
        <span class="tooltip">Visitar o Site</span>
      </div>
    </div>
  </div>

  <div class="version">v1.0.0</div>

  <script>
    const btnAtualizar = document.getElementById('btnAtualizar');
    const btnConfig = document.getElementById('btnConfig');
    const status = document.getElementById('status');
    const barra = document.getElementById('barra');

    // Funções dos botões
    btnAtualizar.onclick = () => {
      btnAtualizar.disabled = true;
      status.innerText = 'Iniciando atualização...';
      barra.value = 0;
      window.electronAPI.iniciarPatch();
    };

    btnConfig.onclick = () => {
      // Modificação aqui para abrir o Setup.exe
      window.electronAPI.abrirConfiguracoes('Setup.exe');
    };

    // Comunicação com Electron
    window.electronAPI.onStatus((event, mensagem) => {
      status.innerText = mensagem;
    });

    window.electronAPI.onProgresso((event, { arquivo, progresso }) => {
      barra.value = progresso;
      status.innerText = `Baixando ${arquivo}: ${progresso}%`;
    });

    window.electronAPI.onErro((event, mensagem) => {
      status.innerText = mensagem;
      btnAtualizar.disabled = false;
    });

  </script>
</body>
</html>